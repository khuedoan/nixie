package network

import (
	"bytes"
	"net"
	"testing"
)

func TestBuildMagicPacket(t *testing.T) {
	in := net.HardwareAddr{
		// bc:24:11:d0:28:34
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
	}
	want := []byte{
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
		0xBC, 0x24, 0x11, 0xd0, 0x28, 0x34,
	}
	got := buildMacicPacket(in)

	if !bytes.Equal(got, want) {
		t.Errorf("buildMagicPacket(%v) = %v; want %v", in, got, want)
	}
}
